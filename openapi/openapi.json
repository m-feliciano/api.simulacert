{
  "openapi": "3.1.0",
  "info": {
    "contact": {
      "email": "contato@simulacert.com",
      "name": "simulacert Team"
    },
    "description": "API para simulação de exames AWS com gerenciamento de usuários, exames, tentativas e estatísticas",
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0"
    },
    "title": "simulacert API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "description": "User authentication and management endpoints",
      "name": "Authentication"
    },
    {
      "description": "Import exams in bulk",
      "name": "Exam Import"
    },
    {
      "description": "Exam attempt management endpoints",
      "name": "Attempts"
    },
    {
      "description": "Question retrieval endpoints",
      "name": "Questions"
    },
    {
      "description": "User statistics and performance analytics endpoints",
      "name": "Statistics"
    },
    {
      "description": "Exam management endpoints",
      "name": "Exams"
    },
    {
      "description": "AI-generated explanations for exam questions (Experimental)",
      "name": "Question Explanations"
    },
    {
      "description": "Manage attempt reviews",
      "name": "Reviews"
    }
  ],
  "paths": {
    "/api/v1/attempts": {
      "post": {
        "description": "Starts a new exam attempt for the authenticated user",
        "operationId": "startAttempt",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartAttemptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Attempt started successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid request data"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Not authorized - can only start attempts for yourself"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Exam not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Start exam attempt",
        "tags": [
          "Attempts"
        ]
      }
    },
    "/api/v1/attempts/user/{userId}": {
      "get": {
        "description": "Retrieves all attempts for a specific user",
        "operationId": "getAttemptsByUser",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptResponse"
                  }
                }
              }
            },
            "description": "User attempts retrieved successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptResponse"
                  }
                }
              }
            },
            "description": "Not authorized - can only view own attempts or require Admin role"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptResponse"
                  }
                }
              }
            },
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get user attempts",
        "tags": [
          "Attempts"
        ]
      }
    },
    "/api/v1/attempts/{attemptId}": {
      "get": {
        "description": "Retrieves details of a specific attempt. Admin only.",
        "operationId": "getAttempt",
        "parameters": [
          {
            "description": "Attempt ID",
            "in": "path",
            "name": "attemptId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Attempt found"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Not authorized - Admin role required"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Attempt not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get attempt by ID",
        "tags": [
          "Attempts"
        ]
      }
    },
    "/api/v1/attempts/{attemptId}/answers/{questionId}": {
      "delete": {
        "description": "Deletes the submitted answer for a specific question within an attempt",
        "operationId": "deleteAnswer",
        "parameters": [
          {
            "in": "path",
            "name": "attemptId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "path",
            "name": "questionId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Answer deleted successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "description": "Attempt or question not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Delete answer for question",
        "tags": [
          "Attempts"
        ]
      },
      "post": {
        "description": "Submits an answer for a specific question within an attempt",
        "operationId": "submitAnswer",
        "parameters": [
          {
            "in": "path",
            "name": "attemptId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "path",
            "name": "questionId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitAnswerRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Answer submitted successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid answer data"
          },
          "404": {
            "description": "Attempt or question not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Submit answer for question",
        "tags": [
          "Attempts"
        ]
      }
    },
    "/api/v1/attempts/{attemptId}/cancel": {
      "post": {
        "description": "Cancels an ongoing exam attempt for the authenticated user",
        "operationId": "cancelAttempt",
        "parameters": [
          {
            "description": "Attempt ID",
            "in": "path",
            "name": "attemptId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Attempt cancelled successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "description": "Attempt not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Cancel exam attempt",
        "tags": [
          "Attempts"
        ]
      }
    },
    "/api/v1/attempts/{attemptId}/finish": {
      "post": {
        "description": "Completes an exam attempt with the final score",
        "operationId": "finishAttempt",
        "parameters": [
          {
            "description": "Attempt ID",
            "in": "path",
            "name": "attemptId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Attempt finished successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid score value (must be between 0 and 100)"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AttemptResponse"
                }
              }
            },
            "description": "Attempt not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Finish exam attempt",
        "tags": [
          "Attempts"
        ]
      }
    },
    "/api/v1/attempts/{attemptId}/questions": {
      "get": {
        "description": "Retrieves all questions associated with a specific attempt",
        "operationId": "getAttemptQuestions",
        "parameters": [
          {
            "in": "path",
            "name": "attemptId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptQuestionResponse"
                  }
                }
              }
            },
            "description": "Attempt questions retrieved successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptQuestionResponse"
                  }
                }
              }
            },
            "description": "Attempt not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get attempt questions",
        "tags": [
          "Attempts"
        ]
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "description": "Authenticates user and returns JWT token",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            },
            "description": "Login successful"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            },
            "description": "Invalid credentials"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            },
            "description": "User account is inactive"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "User login",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "operationId": "getCurrentUser",
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/oauth/google": {
      "get": {
        "operationId": "initiateGoogleLogin",
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "tags": [
          "o-auth-controller"
        ]
      }
    },
    "/api/v1/auth/oauth/google/exchange": {
      "post": {
        "operationId": "exchangeGoogleCode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OAuthExchangeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "tags": [
          "o-auth-controller"
        ]
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "description": "Creates a new user account with USER role",
        "operationId": "register",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            },
            "description": "User registered successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid input data or email already exists"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "Register new user",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/users/": {
      "get": {
        "operationId": "getUsers",
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  }
                }
              }
            },
            "description": "OK"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/users/email/{email}": {
      "get": {
        "description": "Retrieves user information by email address. Admin only.",
        "operationId": "getUserByEmail",
        "parameters": [
          {
            "description": "User email address",
            "in": "path",
            "name": "email",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "User found"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "Not authorized - Admin role required"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get user by email",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/users/{userId}": {
      "get": {
        "description": "Retrieves user information by user ID",
        "operationId": "getUserById",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "User found"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            },
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get user by ID",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/users/{userId}/activate": {
      "put": {
        "description": "Activates a deactivated user account. Admin only.",
        "operationId": "activateUser",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "User activated successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "description": "Not authorized - Admin role required"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Activate user account",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/users/{userId}/deactivate": {
      "put": {
        "description": "Deactivates an active user account. Admin only.",
        "operationId": "deactivateUser",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "User deactivated successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "description": "Not authorized - Admin role required"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Deactivate user account",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/users/{userId}/password": {
      "put": {
        "description": "Allows user to change their own password",
        "operationId": "changePassword",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Password changed successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid old password"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Change user password",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/exams": {
      "get": {
        "description": "Retrieves a list of all available exams",
        "operationId": "getAllExams",
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExamResponse"
                  }
                }
              }
            },
            "description": "List of exams retrieved successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "Get all exams",
        "tags": [
          "Exams"
        ]
      },
      "post": {
        "description": "Creates a new exam. Admin only.",
        "operationId": "createExam",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateExamRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Exam created successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid input data"
          },
          "403": {
            "description": "Not authorized - Admin role required"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Create new exam",
        "tags": [
          "Exams"
        ]
      }
    },
    "/api/v1/exams/import": {
      "post": {
        "description": "Upload multiple JSON files to import exams with questions",
        "operationId": "importExams",
        "parameters": [
          {
            "in": "query",
            "name": "files",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "format": "binary"
              }
            }
          }
        ],
        "responses": {
          "201": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExamImportResponse"
                }
              }
            },
            "description": "Exams imported successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid file format"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExamImportResponse"
                  }
                }
              }
            },
            "description": "Not authenticated"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExamImportResponse"
                  }
                }
              }
            },
            "description": "Not authorized (requires ADMIN role)"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "Import exams from JSON files",
        "tags": [
          "Exam Import"
        ]
      }
    },
    "/api/v1/exams/import/directory": {
      "post": {
        "description": "Import all JSON files from 'fazer' directory and move to 'feito' after processing",
        "operationId": "importFromDirectory",
        "responses": {
          "201": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExamImportResponse"
                }
              }
            },
            "description": "Exams imported successfully from directory"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExamImportResponse"
                  }
                }
              }
            },
            "description": "Not authenticated"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExamImportResponse"
                  }
                }
              }
            },
            "description": "Not authorized (requires ADMIN role)"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Error accessing directory"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "Import exams from directory",
        "tags": [
          "Exam Import"
        ]
      }
    },
    "/api/v1/exams/{examId}": {
      "delete": {
        "description": "Deletes an exam. Admin only.",
        "operationId": "deleteExam",
        "parameters": [
          {
            "description": "Exam ID",
            "in": "path",
            "name": "examId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Exam deleted successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "description": "Not authorized - Admin role required"
          },
          "404": {
            "description": "Exam not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Delete exam",
        "tags": [
          "Exams"
        ]
      },
      "get": {
        "description": "Retrieves detailed information about a specific exam",
        "operationId": "getExam",
        "parameters": [
          {
            "description": "Exam ID",
            "in": "path",
            "name": "examId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResponse"
                }
              }
            },
            "description": "Exam found"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResponse"
                }
              }
            },
            "description": "Exam not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "Get exam by ID",
        "tags": [
          "Exams"
        ]
      },
      "put": {
        "description": "Updates an existing exam. Admin only.",
        "operationId": "updateExam",
        "parameters": [
          {
            "description": "Exam ID",
            "in": "path",
            "name": "examId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateExamRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResponse"
                }
              }
            },
            "description": "Exam updated successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResponse"
                }
              }
            },
            "description": "Not authorized - Admin role required"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExamResponse"
                }
              }
            },
            "description": "Exam not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Update exam",
        "tags": [
          "Exams"
        ]
      }
    },
    "/api/v1/exams/{examId}/exists": {
      "get": {
        "description": "Verifies if an exam exists by its ID",
        "operationId": "examExists",
        "parameters": [
          {
            "description": "Exam ID",
            "in": "path",
            "name": "examId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "boolean"
                }
              }
            },
            "description": "Existence check completed"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "Check if exam exists",
        "tags": [
          "Exams"
        ]
      }
    },
    "/api/v1/explanations/{explanationId}/feedback": {
      "post": {
        "description": "Rate and provide feedback on the quality of an AI-generated explanation",
        "operationId": "submitFeedback",
        "parameters": [
          {
            "description": "Explanation ID",
            "in": "path",
            "name": "explanationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SubmitFeedbackCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "Feedback submitted successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid rating or feedback"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Explanation not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Submit feedback for an explanation",
        "tags": [
          "Question Explanations"
        ]
      }
    },
    "/api/v1/questions": {
      "post": {
        "description": "Creates a new question for an exam",
        "operationId": "createQuestion",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Question created successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid request data"
          },
          "401": {
            "description": "Not authenticated"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "summary": "Create a new question",
        "tags": [
          "Questions"
        ]
      }
    },
    "/api/v1/questions/exam/{examId}": {
      "get": {
        "description": "Retrieves questions for a specific exam with pagination support",
        "operationId": "getQuestionsByExam",
        "parameters": [
          {
            "description": "Exam ID",
            "in": "path",
            "name": "examId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "description": "Pagination parameters (page, size, sort)",
            "in": "query",
            "name": "pageable",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Pageable"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PagedModelQuestionResponse"
                }
              }
            },
            "description": "Questions retrieved successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PagedModelQuestionResponse"
                }
              }
            },
            "description": "Not authenticated"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get questions by exam (paginated)",
        "tags": [
          "Questions"
        ]
      }
    },
    "/api/v1/questions/{questionId}": {
      "get": {
        "description": "Retrieves detailed information about a specific question",
        "operationId": "getQuestion",
        "parameters": [
          {
            "description": "Question ID",
            "in": "path",
            "name": "questionId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuestionResponse"
                }
              }
            },
            "description": "Question found"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuestionResponse"
                }
              }
            },
            "description": "Not authenticated"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/QuestionResponse"
                }
              }
            },
            "description": "Question not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get question by ID",
        "tags": [
          "Questions"
        ]
      }
    },
    "/api/v1/questions/{questionId}/explanations": {
      "post": {
        "description": "Generate an AI explanation for why the correct answer is correct and why incorrect options are wrong. This is an experimental feature and requires the exam attempt to be completed.",
        "operationId": "requestExplanation",
        "parameters": [
          {
            "description": "Question ID",
            "in": "path",
            "name": "questionId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestExplanationCommand"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExplanationResponse"
                }
              }
            },
            "description": "Explanation generated successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid request or attempt not completed"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExplanationResponse"
                }
              }
            },
            "description": "Unauthorized"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExplanationResponse"
                }
              }
            },
            "description": "Attempt does not belong to user"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExplanationResponse"
                }
              }
            },
            "description": "Question or attempt not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Request AI explanation for a question",
        "tags": [
          "Question Explanations"
        ]
      }
    },
    "/api/v1/reviews": {
      "post": {
        "description": "Create a review for a completed attempt",
        "operationId": "createReview",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateReviewRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                }
              }
            },
            "description": "Review created successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Invalid request - attempt not found or validation failed"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                }
              }
            },
            "description": "Not authenticated"
          },
          "409": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                }
              }
            },
            "description": "Review already exists for this attempt"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Create review",
        "tags": [
          "Reviews"
        ]
      }
    },
    "/api/v1/reviews/by-attempt/{attemptId}": {
      "get": {
        "description": "Retrieve review for a specific attempt",
        "operationId": "getReviewByAttempt",
        "parameters": [
          {
            "description": "Attempt ID",
            "in": "path",
            "name": "attemptId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                }
              }
            },
            "description": "Review found"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "401": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                }
              }
            },
            "description": "Not authenticated"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewResponse"
                }
              }
            },
            "description": "Review not found for this attempt"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get review by attempt",
        "tags": [
          "Reviews"
        ]
      }
    },
    "/api/v1/stats/user/{userId}": {
      "get": {
        "description": "Retrieves overall statistics for a specific user",
        "operationId": "getUserStatistics",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserStatsDto"
                }
              }
            },
            "description": "User statistics retrieved successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserStatsDto"
                }
              }
            },
            "description": "Not authorized - can only view own statistics or require Admin role"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/UserStatsDto"
                }
              }
            },
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get user statistics",
        "tags": [
          "Statistics"
        ]
      }
    },
    "/api/v1/stats/user/{userId}/domains": {
      "get": {
        "description": "Retrieves user performance statistics grouped by AWS service domains",
        "operationId": "getPerformanceByDomain",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AwsDomainStatsDto"
                  }
                }
              }
            },
            "description": "Domain statistics retrieved successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AwsDomainStatsDto"
                  }
                }
              }
            },
            "description": "Not authorized - can only view own statistics or require Admin role"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AwsDomainStatsDto"
                  }
                }
              }
            },
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get performance by AWS domain",
        "tags": [
          "Statistics"
        ]
      }
    },
    "/api/v1/stats/user/{userId}/history": {
      "get": {
        "description": "Retrieves the history of all attempts for a specific user",
        "operationId": "getAttemptHistory",
        "parameters": [
          {
            "description": "User ID",
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptHistoryItemDto"
                  }
                }
              }
            },
            "description": "Attempt history retrieved successfully"
          },
          "400": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "403": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptHistoryItemDto"
                  }
                }
              }
            },
            "description": "Not authorized - can only view own history or require Admin role"
          },
          "404": {
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttemptHistoryItemDto"
                  }
                }
              }
            },
            "description": "User not found"
          },
          "500": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "501": {
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                }
              }
            },
            "description": "Not Implemented"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "summary": "Get attempt history",
        "tags": [
          "Statistics"
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "ApiErrorResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "AttemptHistoryItemDto": {
        "type": "object",
        "properties": {
          "attemptId": {
            "type": "string",
            "format": "uuid"
          },
          "examId": {
            "type": "string",
            "format": "uuid"
          },
          "examTitle": {
            "type": "string"
          },
          "finishedAt": {
            "type": "string",
            "format": "date-time"
          },
          "score": {
            "type": "integer",
            "format": "int32"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "AttemptQuestionResponse": {
        "type": "object",
        "properties": {
          "difficulty": {
            "type": "string"
          },
          "domain": {
            "type": "string"
          },
          "options": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionOption"
            }
          },
          "questionId": {
            "type": "string",
            "format": "uuid"
          },
          "selectedOption": {
            "type": "string"
          },
          "text": {
            "type": "string"
          }
        }
      },
      "AttemptResponse": {
        "type": "object",
        "properties": {
          "examId": {
            "type": "string",
            "format": "uuid"
          },
          "finishedAt": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "questionIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "score": {
            "type": "integer",
            "format": "int32"
          },
          "seed": {
            "type": "integer",
            "format": "int64"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string",
            "enum": [
              "IN_PROGRESS",
              "COMPLETED",
              "ABANDONED"
            ]
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "AuthResponse": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/UserResponse"
          }
        }
      },
      "AwsDomainStatsDto": {
        "type": "object",
        "properties": {
          "accuracyRate": {
            "type": "number",
            "format": "double"
          },
          "awsDomain": {
            "type": "string"
          },
          "correctAnswers": {
            "type": "integer",
            "format": "int32"
          },
          "totalQuestions": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ChangePasswordRequest": {
        "type": "object",
        "properties": {
          "currentPassword": {
            "type": "string",
            "minLength": 1
          },
          "newPassword": {
            "type": "string",
            "maxLength": 2147483647,
            "minLength": 6
          }
        },
        "required": [
          "currentPassword",
          "newPassword"
        ]
      },
      "CreateExamRequest": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 0
          },
          "title": {
            "type": "string",
            "maxLength": 255,
            "minLength": 3
          }
        },
        "required": [
          "title"
        ]
      },
      "CreateQuestionRequest": {
        "type": "object",
        "properties": {
          "difficulty": {
            "type": "string",
            "maxLength": 50,
            "minLength": 0
          },
          "domain": {
            "type": "string",
            "maxLength": 100,
            "minLength": 0
          },
          "examId": {
            "type": "string",
            "format": "uuid"
          },
          "options": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionOptionDto"
            },
            "minItems": 1
          },
          "text": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 10
          }
        },
        "required": [
          "difficulty",
          "domain",
          "examId",
          "options",
          "text"
        ]
      },
      "CreateReviewRequest": {
        "type": "object",
        "properties": {
          "attemptId": {
            "type": "string",
            "format": "uuid"
          },
          "comment": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 0
          },
          "rating": {
            "type": "integer",
            "format": "int32",
            "maximum": 5,
            "minimum": 1
          }
        },
        "required": [
          "attemptId",
          "rating"
        ]
      },
      "ExamImportResponse": {
        "type": "object",
        "properties": {
          "examId": {
            "type": "string",
            "format": "uuid"
          },
          "questionsImported": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          },
          "title": {
            "type": "string"
          }
        }
      },
      "ExamResponse": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "difficultyLevel": {
            "type": "string"
          },
          "durationMinutes": {
            "type": "number",
            "format": "double"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "title": {
            "type": "string"
          },
          "totalQuestions": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ExplanationResponse": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time"
          },
          "explanationId": {
            "type": "string",
            "format": "uuid"
          },
          "model": {
            "type": "string"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "minLength": 1
          },
          "password": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "OAuthExchangeRequest": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "state": {
            "type": "string"
          }
        },
        "required": [
          "code",
          "state"
        ]
      },
      "PageMetadata": {
        "type": "object",
        "properties": {
          "number": {
            "type": "integer",
            "format": "int64"
          },
          "size": {
            "type": "integer",
            "format": "int64"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "Pageable": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "size": {
            "type": "integer",
            "format": "int32",
            "minimum": 1
          },
          "sort": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "PagedModelQuestionResponse": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionResponse"
            }
          },
          "page": {
            "$ref": "#/components/schemas/PageMetadata"
          }
        }
      },
      "QuestionOption": {
        "type": "object",
        "properties": {
          "isCorrect": {
            "type": "boolean"
          },
          "key": {
            "type": "string"
          },
          "text": {
            "type": "string"
          }
        }
      },
      "QuestionOptionDto": {
        "type": "object",
        "properties": {
          "isCorrect": {
            "type": "boolean"
          },
          "key": {
            "type": "string",
            "minLength": 1
          },
          "text": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "isCorrect",
          "key",
          "text"
        ]
      },
      "QuestionOptionResponse": {
        "type": "object",
        "properties": {
          "isCorrect": {
            "type": "boolean"
          },
          "optionKey": {
            "type": "string"
          },
          "optionText": {
            "type": "string"
          }
        }
      },
      "QuestionResponse": {
        "type": "object",
        "properties": {
          "difficulty": {
            "type": "string"
          },
          "domain": {
            "type": "string"
          },
          "examId": {
            "type": "string",
            "format": "uuid"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "options": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionOptionResponse"
            }
          },
          "text": {
            "type": "string"
          }
        }
      },
      "RegisterRequest": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "minLength": 1
          },
          "name": {
            "type": "string"
          },
          "password": {
            "type": "string",
            "maxLength": 2147483647,
            "minLength": 8
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "RequestExplanationCommand": {
        "type": "object",
        "properties": {
          "certification": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1
          },
          "examAttemptId": {
            "type": "string",
            "format": "uuid"
          },
          "language": {
            "type": "string",
            "maxLength": 10,
            "minLength": 2
          },
          "questionId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "required": [
          "certification",
          "examAttemptId",
          "language",
          "questionId"
        ]
      },
      "ReviewResponse": {
        "type": "object",
        "properties": {
          "attemptId": {
            "type": "string",
            "format": "uuid"
          },
          "comment": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "rating": {
            "type": "integer",
            "format": "int32"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "StartAttemptRequest": {
        "type": "object",
        "properties": {
          "examId": {
            "type": "string",
            "format": "uuid"
          },
          "questionCount": {
            "type": "integer",
            "format": "int32"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "SubmitAnswerRequest": {
        "type": "object",
        "properties": {
          "selectedOption": {
            "type": "string"
          }
        }
      },
      "SubmitFeedbackCommand": {
        "type": "object",
        "properties": {
          "comment": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 0
          },
          "rating": {
            "type": "integer",
            "format": "int32",
            "maximum": 5,
            "minimum": 1
          }
        },
        "required": [
          "rating"
        ]
      },
      "UpdateExamRequest": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 0
          },
          "title": {
            "type": "string",
            "maxLength": 255,
            "minLength": 3
          }
        },
        "required": [
          "title"
        ]
      },
      "UserResponse": {
        "type": "object",
        "properties": {
          "active": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "email": {
            "type": "string"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "USER",
              "ADMIN"
            ]
          },
          "supporter": {
            "type": "boolean"
          }
        }
      },
      "UserStatsDto": {
        "type": "object",
        "properties": {
          "averageScore": {
            "type": "number",
            "format": "double"
          },
          "bestScore": {
            "type": "integer",
            "format": "int32"
          },
          "completedAttempts": {
            "type": "integer",
            "format": "int32"
          },
          "lastAttemptAt": {
            "type": "string",
            "format": "date-time"
          },
          "totalAttempts": {
            "type": "integer",
            "format": "int32"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "bearerFormat": "JWT",
        "description": "JWT token obtido via /api/v1/auth/login",
        "scheme": "bearer",
        "type": "http"
      }
    }
  }
}